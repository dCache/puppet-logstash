######################################################################
##
## DO NOT EDIT
## generated by puppet module :  <%= @name %>
## node                       :  <%= @fqdn %>
##
######################################################################

input {
  beats {
    port => 5044
    tags => [<% @logstash_configuration['Tags'].each do |tag| %> "<%= tag %>", <% end %> "logs"]
  }

}

filter {
  mutate { remove_field => [ "event", "event", "agent", "journald", "syslog", "ecs" ] }
}

output {
  
  kafka {
        codec => json
        client_id => "<%= @hostname %>"
        topic_id => "<%= @logstash_configuration['KafkaTopic'] %>"
        bootstrap_servers => "<%= @logstash_configuration['KafkaBrokers'] %>"
        id => "dcache-<%= @logstash_configuration['KafkaTopic'] %>"
      }

  }

